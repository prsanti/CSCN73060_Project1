<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
</head>
<body>

    <h2>Dashboard</h2>
    <button id="logoutBtn">Logout</button>

<script>
    document.getElementById('logoutBtn').addEventListener('click', async function() {
        try {
            // Send a request to the server to clear the session
            const response = await fetch('/auth/logout', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            
            const result = await response.json();

            // If successful, go to the login page
            if (response.ok) {
                window.location.href = result.redirect;
            }
        } catch (error) {
            console.error('Error logging out:', error);
        }
    });
</script>